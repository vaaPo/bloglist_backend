{"version":3,"sources":["components/Blog.js","services/blogs.js","components/Notification/Notification.js","components/Notification/OkNotification.js","components/Togglable.js","components/LoginForm.js","components/BlogForm.js","services/login.js","App.js","index.js"],"names":["Blog","_ref","blog","react_default","a","createElement","title","author","token","blogs","getAll","axios","get","then","response","data","create","Object","asyncToGenerator","regenerator_default","mark","_callee","newObject","config","wrap","_context","prev","next","headers","Authorization","post","sent","abrupt","stop","this","_x","apply","arguments","update","id","put","concat","setToken","newToken","Notification","message","className","OkNotification","console","log","Togglable","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggleVisibility","setState","visible","state","hideWhenVisible","display","showWhenVisible","style","onClick","buttonLabel","children","React","Component","LoginForm","handleSubmit","handleChange","username","password","onSubmit","value","onChange","name","type","BlogForm","handleBlogChange","newBlogtitle","newBlogauthor","newBlogurl","services_login","login","credentials","App","addBlog","event","preventDefault","blogObject","url","blogForm","blogService","newBlog","noerror","setTimeout","user","loginService","window","localStorage","setItem","JSON","stringify","t0","error","logout","_ref2","_callee2","_context2","removeItem","exception","_x2","defineProperty","target","handleLoginFieldChange","showAll","oklogin","_this2","loggedUserJSON","getItem","parse","_this3","components_Notification_Notification","Notification_OkNotification","components_Togglable","components_LoginForm","ref","component","components_BlogForm","map","components_Blog","key","_id","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9e14e233.chunk.js","sourcesContent":["import React from 'react'\nconst Blog = ({blog}) => (\n  <div>\n    {blog.title} {blog.author}\n  </div>  \n)\n\nexport default Blog","import axios from 'axios';\nconst baseUrl = '/api/blogs';\n\nlet token = null;\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n};\n\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\n\nconst create = async (newObject) => {\n  const config = {\n    headers: { 'Authorization': token }\n  };\n\n  const response = await axios.post(baseUrl, newObject, config);\n  return response.data;\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n};\n\nexport default { getAll, create, update, setToken };\n","import React from 'react';\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n  return (\n    <div className=\"error\">\n      {message}\n    </div>\n  );\n};\nexport default Notification;\n","import React from 'react';\n\nconst OkNotification = ({ message }) => {\n  if (message === null) {\n    return null;\n    console.log('OkNotification with null message');\n  }\n  console.log('OkNotification with message', message);\n  return (\n    <div className=\"noerror\">\n      {message}\n    </div>\n  );\n};\nexport default OkNotification;\n","import React from 'react';\n\nclass Togglable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      visible: false\n    };\n  }\n\n  toggleVisibility = () => {\n    this.setState({ visible: !this.state.visible });\n  }\n\n  render() {\n    const hideWhenVisible = { display: this.state.visible ? 'none' : '' };\n    const showWhenVisible = { display: this.state.visible ? '' : 'none' };\n\n    return (\n      <div>\n        <div style={hideWhenVisible}>\n          <button onClick={this.toggleVisibility}>{this.props.buttonLabel}</button>\n        </div>\n        <div style={showWhenVisible}>\n          {this.props.children}\n          <button onClick={this.toggleVisibility}>cancel</button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Togglable;","import React from 'react';\n\nconst LoginForm = ({ handleSubmit, handleChange, username, password }) => {\n  return (\n    <div>\n      <h2>Logint to Application</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div>\n          username\n          <input\n            value={username}\n            onChange={handleChange}\n            name=\"username\"\n          />\n        </div>\n        <div>\n          password\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={password}\n            onChange={handleChange}\n          />\n        </div>\n        <button type=\"submit\">login</button>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginForm;","import React from 'react';\n\nconst BlogForm = ({ onSubmit, handleBlogChange, newBlogtitle, newBlogauthor, newBlogurl }) => {\n  return (\n    <div>\n      <h2>Create new Blog</h2>\n\n      <form onSubmit={onSubmit}>\n        <div>\n          <label>title:\n            <input\n              name=\"newBlogtitle\"\n              type=\"text\"\n              value={newBlogtitle}\n              onChange={handleBlogChange}\n            />\n          </label>\n        </div>\n        <div>\n          <label>author:\n            <input\n              name=\"newBlogauthor\"\n              type=\"text\"\n              value={newBlogauthor}\n              onChange={handleBlogChange}\n            />\n          </label>\n        </div>\n        <div>\n          <label>url:\n            <input\n              name=\"newBlogurl\"\n              type=\"text\"\n              value={newBlogurl}\n              onChange={handleBlogChange}\n            />\n          </label>\n        </div>\n        <button>create new blog</button>\n      </form>\n    </div>\n  );\n};\n\nexport default BlogForm;\n\n/**\n  const blogForm = () => (\n    <div>\n      <h2>Create new blog</h2>\n      <form onSubmit={this.addBlog}>\n        <div>\n          <label>title:\n            <input\n              name=\"newBlogtitle\"\n              type=\"text\"\n              value={this.state.newBlogtitle}\n              onChange={this.handleBlogChange}\n            />\n          </label>\n        </div>\n        <div>\n          <label>author:\n            <input\n              name=\"newBlogauthor\"\n              type=\"text\"\n              value={this.state.newBlogauthor}\n              onChange={this.handleBlogChange}\n            />\n          </label>\n        </div>\n        <div>\n          <label>url:\n            <input\n              name=\"newBlogurl\"\n              type=\"text\"\n              value={this.state.newBlogurl}\n              onChange={this.handleBlogChange}\n            />\n          </label>\n        </div>\n        <button>create new blog</button>\n      </form>\n    </div>\n  );\n */\n","import axios from 'axios';\nconst baseUrl = '/api/login';\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials);\n  console.log('frontend login response.data',response.data);\n  return response.data;\n};\n\nexport default { login };\n\n","import React from 'react'\nimport Blog from './components/Blog'\nimport blogService from './services/blogs'\nimport Notification from './components/Notification/Notification';    //notifications\nimport OkNotification from './components/Notification/OkNotification';    //notifications\nimport Togglable from './components/Togglable';\nimport LoginForm from './components/LoginForm';\nimport BlogForm from './components/BlogForm';\nimport loginService from './services/login';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      blogs: [],\n      newBlog: '',\n      newBlogtitle: '',\n      newBlogauthor: '',\n      newBlogurl: '',\n      showAll: true,\n      error: null,\n      noerror: null,\n      username: '',\n      password: '',\n      user: null,\n      oklogin: null\n    };\n  }\n\n  componentDidMount() {\n    blogService.getAll().then(blogs =>\n      this.setState({ blogs })\n    );\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser');  // try in chrome dev console: window.localStorage.getItem('loggedBlogappUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      this.setState({ user, noerror: 'componentDidMount' });\n      blogService.setToken(user.token);\n    }\n  }\n\n  addBlog = (event) => {\n    event.preventDefault();\n    const blogObject = {\n      title: this.state.newBlogtitle,\n      author: this.state.newBlogauthor,\n      url: this.state.newBlogurl\n    };\n\n    this.blogForm.toggleVisibility();\n\n    blogService\n      .create(blogObject)\n      .then(newBlog => {\n        this.setState({\n          blogs: this.state.blogs.concat(newBlog),\n          newBlog: '',\n          noerror: 'blog added'\n        });\n        setTimeout(() => {\n          this.setState({ noerror: null })\n        }, 5000);\n      });\n  }\n\n  /**\n  login = (event) => {\n    event.preventDefault();\n    console.log('logging in with', this.state.username, this.state.password);\n    this.setState({ oklogin: \"logging in\"});\n  }\n */\n  //https://developer.mozilla.org/en-US/docs/Web/API/Storage\n  //window.localStorage.setItem('nimi', 'juha tauriainen')\n  //window.localStorage.getItem('nimi')\n  //window.localStorage.removeItem('nimi')\n\n\n\nlogin = async (event) => {\n  event.preventDefault();\n  try{\n    console.log('App.js login try before loginService.login');\n    const user = await loginService.login({\n      username: this.state.username,\n      password: this.state.password\n    });\n    console.log('App.js login try after loginService.login');\n    window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user));\n    console.log('App.js login window.localStorage.getItem(\\'loggedBlogAppUser\\')');\n\n    blogService.setToken(user.token);\n    console.log('App.js login blogService.setToken');\n\n    this.setState({ username: '', password: '', user });\n  } catch(exception) {\n    this.setState({\n      error: 'username or password is wrong',\n    });\n    setTimeout(() => {\n      this.setState({ error: null });\n    }, 5000);\n  }\n}\n\nlogout = async (event) => {\n  event.preventDefault();\n  try {\n    window.localStorage.removeItem('loggedBlogappUser');\n    blogService.setToken(null);\n    this.setState({ user: null, noerror: 'goodbye!' });\n  } catch(exception) {\n    this.setState({\n      error: 'problem when trying logout'\n    });\n    setTimeout(() => {\n      this.setState({ error: null});\n    },5000);\n  }\n}\n\nhandleBlogChange = (event) => {\n//  this.setState({ newBlog: event.target.value });\n  this.setState({ [event.target.name]: event.target.value });\n}\n/**\n  handleLoginFieldChange = (event) => {\n    if (event.target.name === 'password') {\n      this.setState({ password: event.target.value });\n    } else if (event.target.name === 'username') {\n      this.setState({ username: event.target.value });\n    }\n  }\n */\nhandleLoginFieldChange = (event) => {\n  this.setState({ [event.target.name]: event.target.value });\n}\n\n/**\n * const field = 'name'\n   const object = { [field] : 'Arto Hellas' }\n\n */\n/**\n  handlePasswordChange = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  handleUsernameChange = (event) => {\n    this.setState({ username: event.target.value });\n  }\n */\n\n//toggleVisible = () => {\n//  this.setState({ showAll: !this.state.showAll });\n//}\n\nrender() {\n\n  const loginForm = () => (\n    <Togglable buttonLabel=\"login\">\n      <LoginForm\n        visible={this.state.visible}\n        username={this.state.username}\n        password={this.state.password}\n        handleChange={this.handleLoginFieldChange}\n        handleSubmit={this.login}\n      />\n    </Togglable>\n  )\n/**\n  const loginForm = () => (\n    <div>\n      <h2>Log in to application</h2>\n\n      <form onSubmit={this.login}>\n        <div>\n            username\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={this.state.username}\n            onChange={this.handleLoginFieldChange}\n          />\n        </div>\n        <div>\n          password\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={this.state.password}\n            onChange={this.handleLoginFieldChange}\n          />\n        </div>\n        <button>LOGIN</button>\n      </form>\n    </div>\n  );\n */\n\n  const blogForm = () => (\n    <Togglable buttonLabel=\"new blog\" ref={component => this.blogForm = component}>\n      <BlogForm\n        onSubmit={this.addBlog}\n        value={this.state.newBlog}\n        newBlogtitle={this.state.newBlogtitle}\n        newBlogauthor={this.state.newBlogauthor}\n        newBlogurl={this.state.newBlogurl}\n        handleBlogChange={this.handleBlogChange}\n      />\n    </Togglable>\n  );\n\n//const BlogForm = ({ onSubmit, handleBlogChange, newBlogtitle, newBlogauthor, newBlogurl }) => {\n  \n/**\n  const blogForm = () => (\n    <div>\n      <h2>Create new blog</h2>\n      <form onSubmit={this.addBlog}>\n        <div>\n          <label>title: \n            <input\n              name=\"newBlogtitle\"\n              type=\"text\"\n              value={this.state.newBlogtitle} \n              onChange={this.handleBlogChange}\n            />\n          </label>\n        </div>\n        <div>\n          <label>author: \n            <input\n              name=\"newBlogauthor\"\n              type=\"text\"\n              value={this.state.newBlogauthor} \n              onChange={this.handleBlogChange}\n            />\n          </label>\n        </div>\n        <div>\n          <label>url: \n            <input\n              name=\"newBlogurl\"\n              type=\"text\"\n              value={this.state.newBlogurl} \n              onChange={this.handleBlogChange}\n            />\n          </label>\n        </div>\n        <button>create new blog</button>\n      </form>\n    </div>\n  );\n */\n\n  const blogsRows = () => (\n    <div>\n      <h2>Blogs</h2>\n      {this.state.blogs.map(blog => \n        <Blog key={blog._id} blog={blog}/>\n      )}\n    </div>\n  );\n\n  const loggedInuser = () => (\n    <div>\n      <p>{this.state.user.name} logged in</p><button onClick={this.logout}>logout</button>\n    </div>\n  );\n\n  return (\n    <div>\n      <h1>Blogs</h1>\n\n      <Notification message={this.state.error} />\n      <OkNotification message={this.state.noerror} />\n\n      {this.state.user === null && loginForm()}\n      {this.state.user !== null && loggedInuser()}\n      {this.state.user !== null && blogForm()}\n      {this.state.user !== null && blogsRows()}\n\n    </div >\n  );\n}\n}\n\nexport default App;\n/**\n\n\n\n*       <div>\n        <h2>blogs</h2>\n        {this.state.blogs.map(blog => \n          <Blog key={blog._id} blog={blog}/>\n        )}\n      </div>\n */","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}