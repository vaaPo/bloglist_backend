{"version":3,"sources":["components/Blog.js","services/blogs.js","components/Notification/Notification.js","services/login.js","App.js","index.js"],"names":["Blog","_ref","blog","react_default","a","createElement","title","author","blogs","axios","get","then","response","data","Notification","message","className","services_login","login","Object","asyncToGenerator","regenerator_default","mark","_callee","credentials","wrap","_context","prev","next","post","sent","console","log","abrupt","stop","this","_x","apply","arguments","App","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","event","user","preventDefault","loginService","username","state","password","setState","t0","error","setTimeout","handleBlogChange","newBlog","target","value","handleLoginFieldChange","defineProperty","name","toggleVisible","showAll","oklogin","_this2","blogService","_this3","components_Notification_Notification","onSubmit","type","onChange","map","components_Blog","key","_id","addBlog","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c993bf19.chunk.js","sourcesContent":["import React from 'react'\nconst Blog = ({blog}) => (\n  <div>\n    {blog.title} {blog.author}\n  </div>  \n)\n\nexport default Blog","import axios from 'axios'\nconst baseUrl = '/api/blogs'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nexport default { getAll}","import React from 'react';\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n      return null;\n    }\n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    );\n  };  \n  export default Notification;\n","import axios from 'axios';\nconst baseUrl = '/api/login';\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials);\n  console.log('frontend login response.data',response.data);\n  return response.data;\n};\n\nexport default { login };\n\n","import React from 'react'\nimport Blog from './components/Blog'\nimport blogService from './services/blogs'\nimport Notification from './components/Notification/Notification';    //notifications\nimport OkNotification from './components/Notification/OkNotification';    //notifications\nimport loginService from './services/login';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      blogs: [],\n      newBlog: '',\n      showAll: true,\n      error: null,\n      username: '',\n      password: '',\n      user: null,\n      oklogin: null\n    };\n  }\n\n  componentDidMount() {\n    blogService.getAll().then(blogs =>\n      this.setState({ blogs })\n    );\n  }\n\n  /**\n  addBlog = (event) => {\n    event.preventDefault();\n    const noteObject = {\n      title: this.state.newBlog\n    };\n    blogService\n      .create(blogObject)\n      .then(newBlog => {\n        this.setState({\n          blogs: this.state.blogs.concat(newBlog),\n          newBlog: ''\n        });\n      });\n  }\n */\n/**\n  login = (event) => {\n    event.preventDefault();\n    console.log('logging in with', this.state.username, this.state.password);\n    this.setState({ oklogin: \"logging in\"});\n  }\n */\nlogin = async (event) => {\n  event.preventDefault();\n  try{\n    console.log('App.js login try before loginService.login');\n    const user = await loginService.login({\n      username: this.state.username,\n      password: this.state.password\n    });\n    console.log('App.js login try after loginService.login');\n\n    this.setState({ username: '', password: '', user });\n  } catch(exception) {\n    this.setState({\n      error: 'username or password is wrong',\n    });\n    setTimeout(() => {\n      this.setState({ error: null });\n    }, 5000);\n  }\n}\n\nhandleBlogChange = (event) => {\n  this.setState({ newBlog: event.target.value });\n}\n/**\n  handleLoginFieldChange = (event) => {\n    if (event.target.name === 'password') {\n      this.setState({ password: event.target.value });\n    } else if (event.target.name === 'username') {\n      this.setState({ username: event.target.value });\n    }\n  }\n */\nhandleLoginFieldChange = (event) => {\n  this.setState({ [event.target.name]: event.target.value });\n}\n\n/**\n * const field = 'name'\n   const object = { [field] : 'Arto Hellas' }\n\n */\n/**\n  handlePasswordChange = (event) => {\n    this.setState({ password: event.target.value });\n  }\n\n  handleUsernameChange = (event) => {\n    this.setState({ username: event.target.value });\n  }\n */\n\ntoggleVisible = () => {\n  this.setState({ showAll: !this.state.showAll });\n}\n\nrender() {\n  const loginForm = () => (\n    <div>\n      <h2>Log in to application</h2>\n\n      <form onSubmit={this.login}>\n        <div>\n            username\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={this.state.username}\n            onChange={this.handleLoginFieldChange}\n          />\n        </div>\n        <div>\n          password\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={this.state.password}\n            onChange={this.handleLoginFieldChange}\n          />\n        </div>\n        <button>LOGIN</button>\n      </form>\n    </div>\n  );\n\n//        <button type=\"submit\">login</button>\n\n\n  const blogForm = () => (\n    <div>\n      <h2>Create new blog</h2>\n      <form onSubmit={this.addBlog}>\n        <input\n          value={this.state.newBlog}\n          onChange={this.handleBlogChange}\n        />\n        <button type=\"submit\">create new blog</button>\n      </form>\n    </div>\n  );\n\n  const blogsRows = () => (\n    <div>\n      <h2>Blogs</h2>\n      {this.state.blogs.map(blog => \n        <Blog key={blog._id} blog={blog}/>\n      )}\n    </div>\n  );\n\n  const loggedInuser = () => (\n    <div>\n      <p>{this.state.user.name} logged in</p>\n    </div>\n  );\n\n  return (\n    <div>\n      <h1>Blogs</h1>\n\n      <Notification message={this.state.error} />\n      <okNotification message={this.state.oklogin} />\n\n      {this.state.user === null && loginForm()}\n      {this.state.user !== null && loggedInuser()}\n      {this.state.user !== null && blogsRows()}\n      {this.state.user !== null && blogForm()}\n    </div >\n  );\n}\n}\n\nexport default App;\n/**\n\n\n\n*       <div>\n        <h2>blogs</h2>\n        {this.state.blogs.map(blog => \n          <Blog key={blog._id} blog={blog}/>\n        )}\n      </div>\n */","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}